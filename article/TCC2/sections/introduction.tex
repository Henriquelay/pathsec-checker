% Probing
\section{Introduction}
% O que foi feito
% Motivaçao (!!)
% Oq é SR e Probe-Based Verification (PBV)

% - motivação source routing
% - com isso, há a proposta do polka (sistema de resíduos sem explicar o que é precisamente)
% - mas que que há uma limitação: como comprovar que de fato a rota foi respeitada
% - foi criada a solução do pathsec
% ...
% - contexto deste trabalho: a implementação e testes do pathsec no mininet

Ever since \textit{Source Routing} (SR) was proposed, there has been a need to ensure that packets traverse the network along the paths selected by the source, not only for security reasons, but also to ensure that the network is functioning 
%BETA
%correctly
properly
and correctly configured. This is particularly important in the context of \textit{Software-Defined Networks} (SDNs), where the control plane can select paths based on a variety of criteria\cite{SRSDN}.

In this paper, we propose an implementation on Programming Protocol Independent Processors (\pIV) for 
%BETA
%Probing-Based Path Verification (PBV),
a Probing-Based Path Verification (PBV) mechanism originally proposed in \pathsec\cite{pathsec}. 
This mechanism provides proofs of packet forwarding (\textit{proof-of-transit}), confirming that an expected route was indeed used for a packet.
This is achieved by using a composition of hash functions on stateless core switches, 
%BETA
combined with the switches native secret code (\nodeids) and the respective route's output port, which results into a lightweight multi-signature. 


In the complete solution proposed by \pathsec, once packets reach the egress edges, the final lightweight multi-signatures are extracted from the packets and sent to smart contracts deployed in a blockchain. These signatures are then compared to reference signatures previously registered by a trusted party (the network controller), allowing to verify packets' \textit{proof-of-transit} and to register path compliance. Blockchain, smart contracts and signature checking in deployment conditions is out of scope for this work. For this work, the scope is to generate the signatures for packets and verify how the system behaves.



% This signature  can then be compared
% %BETA
% to a reference signature generated by a trusted party, the network controller.
% %BETA
% %This work tests a proof-of-concept implementation under different adversity scenarios and results show the approach is effective as a proof-of-transit solution.




The proof-of-concept implementation was then tested under different adversity scenarios, and the results show that the approach is effective as a proof-of-transit solution. All the code and test results are available online\footnote{\url{github.com/Henriquelay/pathsec-poc}}. 
This work extends previous work that implements \polka in Mininet\cite{polkap4}\footnote{\url{github.com/nerds-ufes/polka}}, by adding support to \pathsec.




The structure of this paper is as follows: \autoref{sec:definition} outlines the problem definition and the proposed solution; \autoref{sec:implementation} describes the implementation details, including the architecture and the employed tools; \autoref{sec:testing} presents the scenarios used to evaluate the system and the results, and \autoref{sec:conclusion} concludes the paper.

